#########
# Author:        nb5
# Maintainer:    $Author: nb5 $
# Last Modified: $Date: 2008/12/12 16:48:06 $
# Id:            $Id: hinxton.pm,v 1.20 2008/12/12 16:48:06 nb5 Exp $
# Source:        $Source: /repos/cvs/webcore/SHARED_docs/lib/core/SiteDecor/hinxton.pm,v $
# $HeadURL$
#
# decoration for (www|dev).hinxton.org
#
package SiteDecor::hinxton;
use strict;
use warnings;
use Sys::Hostname;
use base qw(SiteDecor);

our $VERSION = do { my @r = (q$Revision: 1.17 $ =~ /\d+/mxg); sprintf '%d.'.'%03d' x $#r, @r };

sub init_defaults {
  my $self = shift;
  my $def  = {
	      'redirect_delay' => 5,
	      'bannercase'     => 'ucfirst',
	      'author'         => 'webmaster',
	      'decor'          => 'full',
	     };
  return $self->merge($def);
}

sub html_headers {
  my $self     = shift;
  my $title    = $self->title()       || 'Hinxton.org';
  my $jsfile   = $self->jsfile()      || ['/js/validateForm.js', '/js/calOutput.js', '/js/events.js', '/js/calendar.js'];
  my $desc     = $self->description() || qq();
  my $keywords = $self->keywords()    || qq();
  my $html_headers = 
    qq|<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>$title</title>
  <link rel="stylesheet" type="text/css" href="/css/hinxton.css" />
  <script type="text/javascript" src='/js/validateForm.js'></script>
  <script type="text/javascript" src='/js/calOutput.js'></script>
  <script type="text/javascript" src='/js/events.js'></script>
  <script type="text/javascript" src='/js/calendar.js'></script>
</head>
<body onload="changedate('return')">
<div id="page">

<div id="header">
  <div id="header-top">
    <div id="header-top-text-title"><b>Hinxton</b>.org</div>
    <div id="header-top-text-lower">Courses and Conferences</div>
  </div>
  <div id="header-bottom-left">
    <img src="/gfx/masthead_1_really_small.jpg" class="img1"><img src="/gfx/masthead_2_really_small.jpg" class="img2"><img src="/gfx/wtgc_pan_72.jpg" class="img3">
  </div>
  <div id="header-bottom-right">
    <div id="header-bottom-text">A directory of scientific events at the<br />Wellcome Trust Genome Campus</div>
  </div>
  <div id="navbar">
    <a href="/index.shtml">> Home</a> <a href="/faq.shtml">> FAQ</a> <a href="/testimonials.shtml">> Testimonials</a> <a href="/contact.shtml">> Contact</a>
  </div>
</div>

<div id="sidebar">
  <h6>Organisers' Colour Key</h6>
  <table class="sidebar-box-colour-key">
    <tr class="colour-key-content">
     <td><img src="/gfx/circle.png" /></td><td style="color: #202174">WT Advanced Courses</td>
    </tr>
    <tr class="colour-key-content">
     <td><img src="/gfx/rhombus.png" /></td><td style="color: #666fbe">WT Scientific Conferences</td>
    </tr>
    <tr class="colour-key-content">
     <td><img src="/gfx/square.png" /></td><td style="color: #0b62a9">Sanger Events</td>
    </tr>
    <tr class="colour-key-content">
     <td><img src="/gfx/triangle.png" /></td><td style="color: #007281">EMBL-EBI Events</td>
    </tr>
  </table>

  <br/ >

  <h6>Search events</h6>
  <div class="sidebar-box">
    <form action="/cgi-bin/search" onsubmit="return validate_form(this)" method="post">
    <p>
      <label for="category">Search category</label><br>
      <select name="category">
        <option value="all">all</option>
	<option value="39">Courses</option>
	<option value="40">Conferences</option>
        <option value="41">Workshops</option>
      </select>

      <br />
      <br />

      <label for="expression">For expression</label><br />
      <input type="text" size="16" name="expression"><br />

      <br />
      <br />

      <input type="image" name="search" src="/gfx/search_btn.png" border="0">
    </p>

    </form>
  </div>

  <br />
  <div class="sidebar-box">
    <div id="evtcal">
      <div id="calendar"><!-- dynamically filled --></div>
    </div>
  </div>
</div>|;

#    if (@{$jsfile}) {
#      $html_headers .= join "\n", map { qq(<script type="text/javascript" src="$_" ></script>\n) } @{$jsfile};
#    }

  $html_headers .= qq(\n);

  return $html_headers;
}

sub site_footers {
  return qq(<div id="footer">
<img src="/gfx/embl-ebi-logo-white_bgk.png">
<img src="/gfx/wt-logo-white_bgk.png">
<img src="/gfx/wtsi-logo-white_bgk.png">
</div>

</div>
</body>
</html>
);
}

1;
